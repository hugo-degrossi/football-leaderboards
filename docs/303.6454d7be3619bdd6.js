"use strict";(self.webpackChunkfootball_leaderboards=self.webpackChunkfootball_leaderboards||[]).push([[303],{6303:(O,c,s)=>{s.r(c),s.d(c,{LeaderboardComponent:()=>C});var e=s(9291),i=s(6814),g=s(6743),u=s(5795),f=s(9862),p=s(7398),m=s(4664),h=s(2710),d=s(4921),v=s(553);let Z=(()=>{class t{constructor(){this.cacheMap=new Map,this.baseUrl=v.N.BASE_URL,this.http=(0,e.f3M)(f.eN)}getCountryLeaderboard(a){return this.http.get(this.baseUrl+d.H.LEAGUES+`?current=true&id=${a}`,d.w).pipe((0,p.U)(o=>o.response[0].seasons[0].year),(0,m.w)(o=>this.http.get(this.baseUrl+d.H.STANDINGS+`?league=${a}&season=${o}`,d.w)),(0,p.U)(o=>o.response[0].league))}getById(a){return this.cacheMap.has(a)||this.cacheMap.set(a,this.getCountryLeaderboard(a).pipe((0,h.d)(1))),this.cacheMap.get(a)}static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),T=(()=>{class t{constructor(){this.router=(0,e.f3M)(g.F0)}goToTeamHistory(){this.router.navigate(["league",this.leagueId,"team",this.standing.team.id,"history"])}static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-leaderboard-team-card"]],inputs:{standing:"standing",leagueId:"leagueId"},standalone:!0,features:[e.jDz],decls:18,vars:10,consts:[[1,"list-item",3,"click"],[1,"position","field"],[1,"logo","field",3,"src","alt"],[1,"name","field"],[1,"played","field"],[1,"win","field"],[1,"lose","field"],[1,"draw","field"],[1,"goal_difference","field"],[1,"points","field"]],template:function(n,r){1&n&&(e.TgZ(0,"div",0),e.NdJ("click",function(){return r.goToTeamHistory()}),e.TgZ(1,"div",1),e._uU(2),e.qZA(),e._UZ(3,"img",2),e.TgZ(4,"div",3),e._uU(5),e.qZA(),e.TgZ(6,"div",4),e._uU(7),e.qZA(),e.TgZ(8,"div",5),e._uU(9),e.qZA(),e.TgZ(10,"div",6),e._uU(11),e.qZA(),e.TgZ(12,"div",7),e._uU(13),e.qZA(),e.TgZ(14,"div",8),e._uU(15),e.qZA(),e.TgZ(16,"div",9),e._uU(17),e.qZA()()),2&n&&(e.xp6(2),e.Oqu(r.standing.rank),e.xp6(1),e.Q6J("src",r.standing.team.logo,e.LSH)("alt",r.standing.team.id),e.xp6(2),e.Oqu(r.standing.team.name),e.xp6(2),e.Oqu(r.standing.all.played),e.xp6(2),e.Oqu(r.standing.all.win),e.xp6(2),e.Oqu(r.standing.all.lose),e.xp6(2),e.Oqu(r.standing.all.draw),e.xp6(2),e.Oqu(r.standing.goalsDiff),e.xp6(2),e.Oqu(r.standing.points))},dependencies:[i.ez],styles:[".list-item[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr 2fr 1fr 1fr 1fr 1fr 1fr 2fr;gap:10px;background-color:var(--card-color);border-radius:4px;justify-items:center;align-items:center;padding:10px 0;border:1px solid var(--card-color);transition:all .3s ease-in-out;cursor:pointer}.list-item[_ngcontent-%COMP%]:hover{border:1px solid var(--color)}.field[_ngcontent-%COMP%]{color:var(--color)}.logo[_ngcontent-%COMP%]{width:30px;height:30px}.name[_ngcontent-%COMP%]{text-align:left}"]})}return t})();function y(t,l){if(1&t&&e._UZ(0,"app-leaderboard-team-card",6),2&t){const a=l.$implicit,n=e.oxw(2);e.Q6J("leagueId",n.leagueId)("standing",a)}}function b(t,l){if(1&t&&(e.TgZ(0,"div",3)(1,"div",4),e._UZ(2,"span")(3,"span"),e.TgZ(4,"span"),e._uU(5,"Name"),e.qZA(),e.TgZ(6,"span"),e._uU(7,"Played"),e.qZA(),e.TgZ(8,"span"),e._uU(9,"W"),e.qZA(),e.TgZ(10,"span"),e._uU(11,"D"),e.qZA(),e.TgZ(12,"span"),e._uU(13,"L"),e.qZA(),e.TgZ(14,"span"),e._uU(15,"+/-"),e.qZA(),e.TgZ(16,"span"),e._uU(17,"Points"),e.qZA()(),e.YNc(18,y,1,2,"app-leaderboard-team-card",5),e.qZA()),2&t){const a=l.ngIf;e.xp6(18),e.Q6J("ngForOf",a.standings[0])}}function U(t,l){1&t&&e._uU(0," Loading data... ")}let C=(()=>{class t{constructor(){this.leagueId="",this._activatedRouter=(0,e.f3M)(g.gz),this.leaderboardService=(0,e.f3M)(Z),this._activatedRouter.paramMap.subscribe(a=>{this.ngOnInit()})}ngOnInit(){this.getData()}getData(){this.leagueId=this._activatedRouter.snapshot.paramMap.get("leagueId")??u.h[0].code,this.leaderboard$=this.leaderboardService.getById(this.leagueId)}static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-leaderboard"]],standalone:!0,features:[e.jDz],decls:5,vars:4,consts:[[1,"container"],["class","leaderboard",4,"ngIf","ngIfElse"],["loading",""],[1,"leaderboard"],[1,"list-item"],[3,"leagueId","standing",4,"ngFor","ngForOf"],[3,"leagueId","standing"]],template:function(n,r){if(1&n&&(e.TgZ(0,"div",0),e.YNc(1,b,19,1,"div",1),e.ALo(2,"async"),e.YNc(3,U,1,0,"ng-template",null,2,e.W1O),e.qZA()),2&n){const o=e.MAs(4);e.xp6(1),e.Q6J("ngIf",e.lcZ(2,2,r.leaderboard$))("ngIfElse",o)}},dependencies:[i.ez,i.sg,i.O5,i.Ov,T],styles:[".container[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;align-items:center}.leaderboard[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;gap:5px;width:80%;overflow-y:scroll}.list-item[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr 2fr 1fr 1fr 1fr 1fr 1fr 2fr;width:100%;gap:10px;background-color:var(--secondary);color:var(--card-color);border-radius:4px;justify-items:center;align-items:center;padding:10px 0}"]})}return t})()}}]);